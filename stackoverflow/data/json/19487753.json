{"type":"StackOverflowArtifact","question":{"type":"StackOverflowQuestion","id":19487753,"title":"The queue in ForkJoinWorkerThread","comments":[],"tags":["java"],"creationDate":"2013-10-21","lastActivityDate":"2013-10-21","score":0,"viewCount":23,"owner":{"type":"StackOverflowUser","id":2831995,"displayName":"zui","reputation":1},"source":[{"type":"SourceInfo","node":{"type":"XmlTextNode","contents":"<p>Here is the Codes says about it:</p>"},"units":[{"type":"TextUnit","id":"[19487753]-[-102343682]","astNode":{"type":"TextFragmentNode","text":"<p>Here is the Codes says about it:</p>"},"codeFragments":{"type":"CodeFragmentSequence","fragments":[]},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"code":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[]},{"declarators":[]},{"averageLevel":"Negative"},{"fleshReadingEaseScore":121.2,"fleshKincaidGradeLevel":-3.4,"automatedReadingIndex":-16.1,"gunningFogIndex":0.4,"smogIndex":3.0,"colemanLiauIndex":-39.8}]}]},{"type":"SourceInfo","node":{"type":"XmlNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"ForkJoinTask&lt;?&gt;[] queue;\n"}]}]},"units":[{"type":"StructuredFragmentUnit","id":"[19487753]-[-116252820]","astNode":{"type":"CodeFragmentSequence","fragments":[{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"queue","comments":[]},"arrayDepth":[],"varType":{"type":"ArrayTypeNode","typeNode":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}}],"comments":[]},"labels":[],"comments":[]}]},"rawText":"ForkJoinTask<?>[] queue;\n","metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"task":1,"join":1,"queue":1,"fork":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"queue","comments":[]},"arrayDepth":[],"varType":{"type":"ArrayTypeNode","typeNode":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}}]},{"identifiers":[{"type":"IdentifierNode","name":"queue","comments":[]},{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]}]},{"declarators":[]},{"grade":0.4187763035297394}]}]},{"type":"SourceInfo","node":{"type":"XmlTextNode","contents":"<p>queue is not with volatile, and it can be read as(not througth getObjectVolatile):</p>"},"units":[{"type":"TextUnit","id":"[19487753]-[-1784098028]","astNode":{"type":"TextFragmentNode","text":"<p>queue is not with volatile, and it can be read as(not througth getObjectVolatile):</p>"},"codeFragments":{"type":"CodeFragmentSequence","fragments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"getObjectVolatile","comments":[]}],"comments":[]}]},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"object":1,"througth":1,"queue":1,"read":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[{"type":"IdentifierNode","name":"getObjectVolatile","comments":[]}]},{"declarators":[]},{"averageLevel":"Negative"},{"fleshReadingEaseScore":121.2,"fleshKincaidGradeLevel":-3.4,"automatedReadingIndex":-16.1,"gunningFogIndex":0.4,"smogIndex":3.0,"colemanLiauIndex":-39.8}]}]},{"type":"SourceInfo","node":{"type":"XmlNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"        if (v != null &amp;&amp; (b = v.queueBase) != v.queueTop &amp;&amp;\n            (q = v.queue) != null &amp;&amp; (i = (q.length - 1) &amp; b) &gt;= 0) {\n            long u = (i &lt;&lt; ASHIFT) + ABASE;\n"}]}]},"units":[{"type":"StructuredFragmentUnit","id":"[19487753]-[864316344]","astNode":{"type":"CodeFragmentSequence","fragments":[{"type":"TextFragmentNode","text":"        if (v != null && (b = "},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"v","comments":[]},{"type":"IdentifierNode","name":"queueBase","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":") != "},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"v","comments":[]},{"type":"IdentifierNode","name":"queueTop","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":" &&\n            (q = v.queue) != null && (i = (q.length - 1) & b) >= 0) {\n            long "},{"type":"ExpressionStatement","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"=","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"u","comments":[]}],"comments":[]},"right":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"+","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"<<","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"i","comments":[]}],"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ASHIFT","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ABASE","comments":[]}],"comments":[]},"comments":[]},"comments":[]},"labels":[]}]},"rawText":"        if (v != null && (b = v.queueBase) != v.queueTop &&\n            (q = v.queue) != null && (i = (q.length - 1) & b) >= 0) {\n            long u = (i << ASHIFT) + ABASE;\n","metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"ashift":1,"queue":3,"base":1,"abas":1,"length":1,"top":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[{"type":"IdentifierNode","name":"v","comments":[]},{"type":"IdentifierNode","name":"queueBase","comments":[]},{"type":"IdentifierNode","name":"ASHIFT","comments":[]},{"type":"IdentifierNode","name":"i","comments":[]},{"type":"IdentifierNode","name":"ABASE","comments":[]},{"type":"IdentifierNode","name":"u","comments":[]},{"type":"IdentifierNode","name":"queueTop","comments":[]}]},{"declarators":[]},{"grade":0.5756546854972839}]}]},{"type":"SourceInfo","node":{"type":"XmlTextNode","contents":"<p>and it also can be write as(queue is changed, also it's members):</p>"},"units":[{"type":"TextUnit","id":"[19487753]-[-1337781829]","astNode":{"type":"TextFragmentNode","text":"<p>and it also can be write as(queue is changed, also it's members):</p>"},"codeFragments":{"type":"CodeFragmentSequence","fragments":[]},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"member":1,"chang":1,"queue":1,"write":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[]},{"declarators":[]},{"averageLevel":"Neutral"},{"fleshReadingEaseScore":121.2,"fleshKincaidGradeLevel":-3.4,"automatedReadingIndex":-16.1,"gunningFogIndex":0.4,"smogIndex":3.0,"colemanLiauIndex":-39.8}]}]},{"type":"SourceInfo","node":{"type":"XmlNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"  ForkJoinTask&lt;?&gt;[] q = queue = new ForkJoinTask&lt;?&gt;[size];\n    int mask = size - 1;\n    int top = queueTop;\n    int oldMask;\n    if (oldQ != null &amp;&amp; (oldMask = oldQ.length - 1) &gt;= 0) {\n        for (int b = queueBase; b != top; ++b) {\n            long u = ((b &amp; oldMask) &lt;&lt; ASHIFT) + ABASE;\n            Object x = UNSAFE.getObjectVolatile(oldQ, u);\n            if (x != null &amp;&amp; UNSAFE.compareAndSwapObject(oldQ, u, x, null))\n                UNSAFE.putObjectVolatile\n                    (q, ((b &amp; mask) &lt;&lt; ASHIFT) + ABASE, x);\n        }\n"}]}]},"units":[{"type":"StructuredFragmentUnit","id":"[19487753]-[-1416677239]","astNode":{"type":"CodeFragmentSequence","fragments":[{"type":"TextFragmentNode","text":"  "},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"q","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"=","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"queue","comments":[]}],"comments":[]},"right":{"type":"ArrayExpressionCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"expressionDepth":[{"type":"DimExpressionNode","argument":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"size","comments":[]}],"comments":[]},"comments":[]}],"arrayDepth":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ArrayTypeNode","typeNode":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}}],"comments":[]},"labels":[],"comments":[]},{"type":"TextFragmentNode","text":"int "},{"type":"ExpressionStatement","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"=","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"mask","comments":[]}],"comments":[]},"right":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"-","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"size","comments":[]}],"comments":[]},"right":{"type":"LiteralNode","node":{"type":"IntegerLiteralNode","valueRep":"1"},"comments":[]},"comments":[]},"comments":[]},"labels":[]},{"type":"TextFragmentNode","text":"int "},{"type":"ExpressionStatement","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"=","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"top","comments":[]}],"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"queueTop","comments":[]}],"comments":[]},"comments":[]},"labels":[]},{"type":"TextFragmentNode","text":"int "},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldMask","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":";\n    if ("},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldQ","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":" != null && ("},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldMask","comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":" = "},{"type":"IdentifierNode","name":"oldQ","comments":[]},{"type":"TextFragmentNode","text":".length - 1) >= 0) {\n        "},{"type":"ForLoopStatementNode","forControl":{"type":"ForVarControlNode","variables":{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"b","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"queueBase","comments":[]}],"comments":[]}},"comments":[]},"varType":{"type":"PrimitiveTypeNode","name":"int","comments":[]}}],"comments":[]},"labels":[],"comments":[]},"condition":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"!=","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"b","comments":[]}],"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"top","comments":[]}],"comments":[]},"comments":[]},"update":[{"type":"PrefixOperatorExpressionNode","operator":{"type":"OperatorNode","symbol":"++","comments":[]},"argument":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"b","comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"statement":{"type":"BlockNode","statements":[{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"u","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"+","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"<<","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"&","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"b","comments":[]}],"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldMask","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ASHIFT","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ABASE","comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"PrimitiveTypeNode","name":"long","comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"LocalVariableDeclarationStatementNode","modifiers":[],"declarators":{"type":"VariableDeclaratorsNode","declarators":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"x","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"UNSAFE","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"getObjectVolatile","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldQ","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"u","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Object","comments":[]},"comments":[]}],"comments":[]}}],"comments":[]},"labels":[],"comments":[]},{"type":"IfStatementNode","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"&&","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"!=","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"x","comments":[]}],"comments":[]},"right":{"type":"LiteralNode","node":{"type":"NullLiteralNode"},"comments":[]},"comments":[]},"right":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"UNSAFE","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"compareAndSwapObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldQ","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"u","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"x","comments":[]}],"comments":[]},{"type":"LiteralNode","node":{"type":"NullLiteralNode"},"comments":[]}],"comments":[]},"comments":[]},"comments":[]},"statement":{"type":"ExpressionStatement","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"UNSAFE","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"putObjectVolatile","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"q","comments":[]}],"comments":[]},{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"+","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"<<","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"&","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"b","comments":[]}],"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"mask","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ASHIFT","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ABASE","comments":[]}],"comments":[]},"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"x","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},"labels":[]},"labels":[],"comments":[]}],"labels":[],"comments":[]},"labels":[],"comments":[]}]},"rawText":"  ForkJoinTask<?>[] q = queue = new ForkJoinTask<?>[size];\n    int mask = size - 1;\n    int top = queueTop;\n    int oldMask;\n    if (oldQ != null && (oldMask = oldQ.length - 1) >= 0) {\n        for (int b = queueBase; b != top; ++b) {\n            long u = ((b & oldMask) << ASHIFT) + ABASE;\n            Object x = UNSAFE.getObjectVolatile(oldQ, u);\n            if (x != null && UNSAFE.compareAndSwapObject(oldQ, u, x, null))\n                UNSAFE.putObjectVolatile\n                    (q, ((b & mask) << ASHIFT) + ABASE, x);\n        }\n","metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"ashift":2,"task":2,"mask":5,"size":2,"join":2,"queue":3,"object":4,"base":1,"fork":2,"abas":2,"compar":1,"swap":1,"put":1,"length":1,"unsaf":3,"top":3}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Object","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[{"type":"PrimitiveTypeNode","name":"int","comments":[]},{"type":"PrimitiveTypeNode","name":"long","comments":[]}]},{"type":"CodeInvocationMetaInformation","invocations":[{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"UNSAFE","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"getObjectVolatile","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldQ","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"u","comments":[]}],"comments":[]}],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"UNSAFE","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"compareAndSwapObject","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldQ","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"u","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"x","comments":[]}],"comments":[]},{"type":"LiteralNode","node":{"type":"NullLiteralNode"},"comments":[]}],"comments":[]},"comments":[]},{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"UNSAFE","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"putObjectVolatile","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"q","comments":[]}],"comments":[]},{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"+","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"<<","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"&","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"b","comments":[]}],"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"mask","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ASHIFT","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ABASE","comments":[]}],"comments":[]},"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"x","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}]},{"type":"CodeVariablesMetaInformation","variables":[{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"q","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"=","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"queue","comments":[]}],"comments":[]},"right":{"type":"ArrayExpressionCreatorNode","creatorType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"expressionDepth":[{"type":"DimExpressionNode","argument":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"size","comments":[]}],"comments":[]},"comments":[]}],"arrayDepth":[],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ArrayTypeNode","typeNode":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},"typeArguments":{"type":"TypeArgumentsNode","types":[{"type":"WildcardTypeArgumentNode","operator":{"type":"OperatorNode","symbol":"?","comments":[]},"comments":[]}],"comments":[]},"comments":[]}],"comments":[]},"depth":[{"type":"ArrayDimensionNode","comments":[]}]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"b","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"queueBase","comments":[]}],"comments":[]}},"comments":[]},"varType":{"type":"PrimitiveTypeNode","name":"int","comments":[]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"u","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"+","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"<<","comments":[]},"left":{"type":"BinaryExpressionNode","operator":{"type":"OperatorNode","symbol":"&","comments":[]},"left":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"b","comments":[]}],"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldMask","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ASHIFT","comments":[]}],"comments":[]},"comments":[]},"right":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"ABASE","comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"PrimitiveTypeNode","name":"long","comments":[]}},{"type":"VariableDeclaratorNode","identifier":{"type":"IdentifierNode","name":"x","comments":[]},"arrayDepth":[],"assignment":{"type":"VariableAssignmentNode","variableAssignment":{"type":"VariableExpressionInitNode","expression":{"type":"MethodInvocationNode","qualifiedIdentifier":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"UNSAFE","comments":[]}],"comments":[]},"identifier":{"type":"IdentifierNode","name":"getObjectVolatile","comments":[]},"args":{"type":"ExpressionListNode","arguments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"oldQ","comments":[]}],"comments":[]},{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"u","comments":[]}],"comments":[]}],"comments":[]},"comments":[]}},"comments":[]},"varType":{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Object","comments":[]},"comments":[]}],"comments":[]}}]},{"identifiers":[{"type":"IdentifierNode","name":"Object","comments":[]},{"type":"IdentifierNode","name":"oldMask","comments":[]},{"type":"IdentifierNode","name":"compareAndSwapObject","comments":[]},{"type":"IdentifierNode","name":"size","comments":[]},{"type":"IdentifierNode","name":"queueBase","comments":[]},{"type":"IdentifierNode","name":"queue","comments":[]},{"type":"IdentifierNode","name":"top","comments":[]},{"type":"IdentifierNode","name":"b","comments":[]},{"type":"IdentifierNode","name":"mask","comments":[]},{"type":"IdentifierNode","name":"x","comments":[]},{"type":"IdentifierNode","name":"UNSAFE","comments":[]},{"type":"IdentifierNode","name":"getObjectVolatile","comments":[]},{"type":"IdentifierNode","name":"oldQ","comments":[]},{"type":"IdentifierNode","name":"ASHIFT","comments":[]},{"type":"IdentifierNode","name":"putObjectVolatile","comments":[]},{"type":"IdentifierNode","name":"ForkJoinTask","comments":[]},{"type":"IdentifierNode","name":"ABASE","comments":[]},{"type":"IdentifierNode","name":"u","comments":[]},{"type":"IdentifierNode","name":"q","comments":[]},{"type":"IdentifierNode","name":"queueTop","comments":[]}]},{"declarators":[]},{"grade":0.04643312841653824}]}]},{"type":"SourceInfo","node":{"type":"XmlTextNode","contents":"<p>there has no \"synchronizer\" method is showed, I want know how queue's visibility to other threads????</p>"},"units":[{"type":"TextUnit","id":"[19487753]-[-542746562]","astNode":{"type":"TextFragmentNode","text":"<p>there has no \"synchronizer\" method is showed, I want know how queue's visibility to other threads????</p>"},"codeFragments":{"type":"CodeFragmentSequence","fragments":[]},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"method":1,"show":1,"queue":1,"visibl":1,"thread":1,"synchron":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[]},{"declarators":[]},{"averageLevel":"Negative"},{"fleshReadingEaseScore":121.2,"fleshKincaidGradeLevel":-3.4,"automatedReadingIndex":-16.1,"gunningFogIndex":0.4,"smogIndex":3.0,"colemanLiauIndex":-39.8}]}]}]},"answers":[]}