{"type":"StackOverflowArtifact","question":{"type":"StackOverflowQuestion","id":22194843,"title":"Same Thread ID(tid) but different native id(nid) in two consecutive thread dumps","comments":[],"tags":["java","multithreading","centos"],"creationDate":"2014-03-05","lastActivityDate":"2014-03-05","score":0,"viewCount":36,"owner":{"type":"StackOverflowUser","id":601311,"displayName":"Maxim Kirilov","reputation":553},"source":[{"type":"SourceInfo","node":{"type":"XmlTextNode","contents":"<p>After inspecting my thread dump, 3 consecutive dumps with 4 seconds interval ,I've noticed that there are some threads with same java id and different native ids.\nI am using Java 6u45 on CentOS6, the dump produced by <code>kill -3 JAVA_PID</code> command,\nhere is a snapshot from my dump:</p>"},"units":[{"type":"TextUnit","id":"[22194843]-[-946391705]","astNode":{"type":"TextFragmentNode","text":"<p>After inspecting my thread dump, 3 consecutive dumps with 4 seconds interval ,I've noticed that there are some threads with same java id and different native ids.\nI am using Java 6u45 on CentOS6, the dump produced by <code>kill -3 JAVA_PID</code> command,\nhere is a snapshot from my dump:</p>"},"codeFragments":{"type":"CodeFragmentSequence","fragments":[{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"_PID","comments":[]}],"comments":[]}]},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"produc":1,"dump":4,"command":1,"code":2,"inspect":1,"second":1,"interv":1,"thread":2,"id":1,"snapshot":1,"pid":1,"consecut":1,"notic":1,"kill":1,"cent":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[{"type":"IdentifierNode","name":"_PID","comments":[]}]},{"declarators":[]},{"averageLevel":"Negative"},{"fleshReadingEaseScore":121.2,"fleshKincaidGradeLevel":-3.4,"automatedReadingIndex":-16.1,"gunningFogIndex":0.4,"smogIndex":3.0,"colemanLiauIndex":-39.8}]}]},{"type":"SourceInfo","node":{"type":"XmlNode","name":{"type":"XmlNameNode","value":"pre"},"attributes":[],"elements":[{"type":"XmlNode","name":{"type":"XmlNameNode","value":"code"},"attributes":[],"elements":[{"type":"XmlTextNode","contents":"Thread dump 1/3 \"HandshakeCompletedNotify-Thread\"   prio=10 tid=0x00007f603598d800 nid=0x3e9b runnable [0x0000000000000000]\n      java.lang.Thread.State: RUNNABLE  \n\nThread dump 2/3 \"HandshakeCompletedNotify-Thread\"   prio=10 tid=0x00007f603598d800 nid=0x3e9b runnable [0x0000000000000000]\n      java.lang.Thread.State: RUNNABLE  \n\nThread dump 3/3 \"Thread_10\"                         prio=10 tid=0x00007f603598d800 nid=0x436d waiting on condition [0x00007f601daff000]\n      java.lang.Thread.State: WAITING (parking)\n      at sun.misc.Unsafe.park(Native Method)\n      - parking to wait for &lt;0x00000000d2bd87e0&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n      at java.util.concurrent.locks.LockSupport.park(Unknown Source)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(Unknown Source)\n      at java.util.concurrent.PriorityBlockingQueue.take(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n      at java.lang.Thread.run(Unknown Source) \n"}]}]},"units":[{"type":"StructuredFragmentUnit","id":"[22194843]-[-24165270]","astNode":{"type":"CodeFragmentSequence","fragments":[{"type":"TextFragmentNode","text":"Thread dump 1/3 \""},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"HandshakeCompletedNotify","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"-Thread\"   prio=10 tid=0x00007f603598d800 nid=0x3e9b runnable [0x0000000000000000]\n      "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"java","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"lang","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Thread","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"State","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":": RUNNABLE  \n\nThread dump 2/3 \""},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"HandshakeCompletedNotify","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":"-Thread\"   prio=10 tid=0x00007f603598d800 nid=0x3e9b runnable [0x0000000000000000]\n      "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"java","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"lang","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Thread","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"State","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":": RUNNABLE  \n\nThread dump 3/3 \"Thread_10\"                         prio=10 tid=0x00007f603598d800 nid=0x436d waiting on condition [0x00007f601daff000]\n      "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"java","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"lang","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Thread","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"State","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":": WAITING (parking)\n      "},{"type":"StackTraceLineNode","methodName":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"sun","comments":[]},{"type":"IdentifierNode","name":"misc","comments":[]},{"type":"IdentifierNode","name":"Unsafe","comments":[]},{"type":"IdentifierNode","name":"park","comments":[]}],"comments":[]},"location":{"type":"SourceLocationNode","fileName":"Native Method"}},{"type":"TextFragmentNode","text":"     - parking to wait for <0x00000000d2bd87e0> (a "},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"java","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"util","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"concurrent","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"locks","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"AbstractQueuedSynchronizer$ConditionObject","comments":[]},"comments":[]}],"comments":[]},{"type":"TextFragmentNode","text":")\n      "},{"type":"StackTraceLineNode","methodName":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"java","comments":[]},{"type":"IdentifierNode","name":"util","comments":[]},{"type":"IdentifierNode","name":"concurrent","comments":[]},{"type":"IdentifierNode","name":"locks","comments":[]},{"type":"IdentifierNode","name":"LockSupport","comments":[]},{"type":"IdentifierNode","name":"park","comments":[]}],"comments":[]},"location":{"type":"SourceLocationNode","fileName":"Unknown Source"}},{"type":"TextFragmentNode","text":"     "},{"type":"StackTraceLineNode","methodName":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"java","comments":[]},{"type":"IdentifierNode","name":"util","comments":[]},{"type":"IdentifierNode","name":"concurrent","comments":[]},{"type":"IdentifierNode","name":"locks","comments":[]},{"type":"IdentifierNode","name":"AbstractQueuedSynchronizer$ConditionObject","comments":[]},{"type":"IdentifierNode","name":"await","comments":[]}],"comments":[]},"location":{"type":"SourceLocationNode","fileName":"Unknown Source"}},{"type":"TextFragmentNode","text":"     "},{"type":"StackTraceLineNode","methodName":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"java","comments":[]},{"type":"IdentifierNode","name":"util","comments":[]},{"type":"IdentifierNode","name":"concurrent","comments":[]},{"type":"IdentifierNode","name":"PriorityBlockingQueue","comments":[]},{"type":"IdentifierNode","name":"take","comments":[]}],"comments":[]},"location":{"type":"SourceLocationNode","fileName":"Unknown Source"}},{"type":"TextFragmentNode","text":"     "},{"type":"StackTraceLineNode","methodName":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"java","comments":[]},{"type":"IdentifierNode","name":"util","comments":[]},{"type":"IdentifierNode","name":"concurrent","comments":[]},{"type":"IdentifierNode","name":"ThreadPoolExecutor","comments":[]},{"type":"IdentifierNode","name":"getTask","comments":[]}],"comments":[]},"location":{"type":"SourceLocationNode","fileName":"Unknown Source"}},{"type":"TextFragmentNode","text":"     "},{"type":"StackTraceLineNode","methodName":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"java","comments":[]},{"type":"IdentifierNode","name":"util","comments":[]},{"type":"IdentifierNode","name":"concurrent","comments":[]},{"type":"IdentifierNode","name":"ThreadPoolExecutor$Worker","comments":[]},{"type":"IdentifierNode","name":"run","comments":[]}],"comments":[]},"location":{"type":"SourceLocationNode","fileName":"Unknown Source"}},{"type":"TextFragmentNode","text":"     "},{"type":"StackTraceLineNode","methodName":{"type":"QualifiedIdentifierNode","identifiers":[{"type":"IdentifierNode","name":"java","comments":[]},{"type":"IdentifierNode","name":"lang","comments":[]},{"type":"IdentifierNode","name":"Thread","comments":[]},{"type":"IdentifierNode","name":"run","comments":[]}],"comments":[]},"location":{"type":"SourceLocationNode","fileName":"Unknown Source"}}]},"rawText":"Thread dump 1/3 \"HandshakeCompletedNotify-Thread\"   prio=10 tid=0x00007f603598d800 nid=0x3e9b runnable [0x0000000000000000]\n      java.lang.Thread.State: RUNNABLE  \n\nThread dump 2/3 \"HandshakeCompletedNotify-Thread\"   prio=10 tid=0x00007f603598d800 nid=0x3e9b runnable [0x0000000000000000]\n      java.lang.Thread.State: RUNNABLE  \n\nThread dump 3/3 \"Thread_10\"                         prio=10 tid=0x00007f603598d800 nid=0x436d waiting on condition [0x00007f601daff000]\n      java.lang.Thread.State: WAITING (parking)\n      at sun.misc.Unsafe.park(Native Method)\n      - parking to wait for <0x00000000d2bd87e0> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n      at java.util.concurrent.locks.LockSupport.park(Unknown Source)\n      at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(Unknown Source)\n      at java.util.concurrent.PriorityBlockingQueue.take(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n      at java.lang.Thread.run(Unknown Source) \n","metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"support":1,"method":1,"await":1,"wait":3,"task":1,"concurr":6,"util":6,"handshak":2,"state":3,"queue":1,"condit":3,"run":2,"notifi":2,"sun":1,"lock":4,"unknown":6,"dump":3,"daff":1,"object":2,"block":1,"thread":12,"pool":2,"queu":2,"park":4,"runnabl":4,"misc":1,"unsaf":1,"complet":2,"lang":4,"tid":3,"prioriti":1,"nid":3,"executor":2,"prio":3,"sourc":6,"synchron":2,"worker":1}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"java","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"lang","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"Thread","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"State","comments":[]},"comments":[]}],"comments":[]},{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"java","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"util","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"concurrent","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"locks","comments":[]},"comments":[]},{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"AbstractQueuedSynchronizer$ConditionObject","comments":[]},"comments":[]}],"comments":[]}],"simpleTypes":[{"type":"ReferenceTypeNode","ids":[{"type":"ParameterizedTypeNode","identifier":{"type":"IdentifierNode","name":"HandshakeCompletedNotify","comments":[]},"comments":[]}],"comments":[]}],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[{"type":"IdentifierNode","name":"take","comments":[]},{"type":"IdentifierNode","name":"PriorityBlockingQueue","comments":[]},{"type":"IdentifierNode","name":"sun","comments":[]},{"type":"IdentifierNode","name":"ThreadPoolExecutor$Worker","comments":[]},{"type":"IdentifierNode","name":"java","comments":[]},{"type":"IdentifierNode","name":"AbstractQueuedSynchronizer$ConditionObject","comments":[]},{"type":"IdentifierNode","name":"State","comments":[]},{"type":"IdentifierNode","name":"util","comments":[]},{"type":"IdentifierNode","name":"Unsafe","comments":[]},{"type":"IdentifierNode","name":"lang","comments":[]},{"type":"IdentifierNode","name":"ThreadPoolExecutor","comments":[]},{"type":"IdentifierNode","name":"await","comments":[]},{"type":"IdentifierNode","name":"Thread","comments":[]},{"type":"IdentifierNode","name":"park","comments":[]},{"type":"IdentifierNode","name":"concurrent","comments":[]},{"type":"IdentifierNode","name":"getTask","comments":[]},{"type":"IdentifierNode","name":"misc","comments":[]},{"type":"IdentifierNode","name":"LockSupport","comments":[]},{"type":"IdentifierNode","name":"locks","comments":[]},{"type":"IdentifierNode","name":"HandshakeCompletedNotify","comments":[]},{"type":"IdentifierNode","name":"run","comments":[]}]},{"declarators":[]},{"grade":0.0}]}]},{"type":"SourceInfo","node":{"type":"XmlTextNode","contents":"<p>How it can be possible that java thread id didn't change while the corresponding native thread changed? Seems like the whole thread stack have been replaced with different one.</p>"},"units":[{"type":"TextUnit","id":"[22194843]-[-345757622]","astNode":{"type":"TextFragmentNode","text":"<p>How it can be possible that java thread id didn't change while the corresponding native thread changed? Seems like the whole thread stack have been replaced with different one.</p>"},"codeFragments":{"type":"CodeFragmentSequence","fragments":[]},"metaInformation":[{"type":"NaturalLanguageMetaInformation","tfMap":{"replac":1,"stack":1,"chang":2,"thread":3}},{"type":"CodeTypesMetaInformation","qualifiedTypes":[],"simpleTypes":[],"basicTypes":[]},{"type":"CodeInvocationMetaInformation","invocations":[]},{"type":"CodeVariablesMetaInformation","variables":[]},{"identifiers":[]},{"declarators":[]},{"averageLevel":"Negative"},{"fleshReadingEaseScore":121.2,"fleshKincaidGradeLevel":-3.4,"automatedReadingIndex":-16.1,"gunningFogIndex":0.4,"smogIndex":3.0,"colemanLiauIndex":-39.8}]}]}]},"answers":[]}